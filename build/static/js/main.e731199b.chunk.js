(this["webpackJsonpmusic-web-app"]=this["webpackJsonpmusic-web-app"]||[]).push([[0],{139:function(e,t,a){e.exports=a(290)},144:function(e,t,a){},146:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},284:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(15),l=a.n(s),i=(a(144),a(2)),o=a.n(i),c=a(10),u=a(4),h=a(6),m=a(18),p=a(8),d=a(7),f=a(36),g=a.n(f),y=(a(99),a(14)),b=function e(){Object(u.a)(this,e)};b.fetchData=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r,s,l,i,u,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/authenticate");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,r();case 4:return s=e.sent,l=s.myToken,i={headers:{Authorization:"Bearer "+l}},t=t.replace(/\\|#|%|{|}|\^|\||`/g,""),console.log(t),"https://api.spotify.com/v1/search?",u="https://api.spotify.com/v1/search?"+("q="+t)+("&type="+a),e.next=15,fetch(u,i);case 15:return h=e.sent,e.next=18,h.json();case 18:return n=e.sent,console.log(n),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var v=b,E=(a(146),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"onCardClick",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"Result-card",onClick:this.props.buttonClick},r.a.createElement("table",{className:"Card-table"},r.a.createElement("tr",{className:"Class-row"},r.a.createElement("td",{rowSpan:"0",className:"Col-art"},r.a.createElement("img",{className:"Album-art",src:this.props.artwork,alt:"album artwork"})),r.a.createElement("div",null),r.a.createElement("td",{className:"Song-info"},r.a.createElement("div",{className:"Info-name"},this.props.name),r.a.createElement("div",{className:"Info"},this.props.album),r.a.createElement("div",{className:"Info"},this.props.artist)))))}}]),a}(r.a.Component)),w=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),""!==n.state.searchQuery&&(n.setState({previousSearchQuery:n.state.searchQuery}),n.state.searchQuery!=n.state.previousSearchQuery&&n.waitForFetch())},n.waitForFetch=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){n.setState({prompt:"Searching for results..."})}),1e3),e.next=3,v.fetchData(n.state.searchQuery,"track");case 3:for(t=e.sent,a=setTimeout((function(){}),0);a--;)window.clearTimeout(a),n.setState({prompt:null});if(n.setState({songListRaw:t}),0!==t.tracks.items.length){e.next=10;break}return n.setState({prompt:"No results found!",results:r.a.createElement("div",{className:"Margin"})}),e.abrupt("return");case 10:n.generateSongInfo(),n.setState({results:r.a.createElement("div",{className:"Cards"},n.populateGrid(n.state.simplifiedSongList))});case 12:case"end":return e.stop()}}),e)}))),n.state={token:"NO_TOKEN(CLIENT)",songListRaw:null,simplifiedSongList:null,searchQuery:"",previousSearchQuery:"",results:r.a.createElement("div",{className:"Margin"}),prompt:null},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.onCardClick=n.onCardClick.bind(Object(m.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"onCardClick",value:function(e,t,a,n,r){console.log("Click successful!! ID: "+e),"song"===this.props.chain&&this.props.history.push({pathname:"/songs",search:e}),"playlist"===this.props.chain&&this.props.history.push({pathname:"/song-playlist",search:e,state:{name:t,album:a,artist:n,art:r}})}},{key:"generateSongInfo",value:function(){var e=[];this.state.songListRaw.tracks.items.forEach((function(t){e.push({name:t.name,artist:t.artists[0].name,album:t.album.name,art:t.album.images[1].url,songId:t.id})})),this.setState({simplifiedSongList:e})}},{key:"populateGrid",value:function(e){if(null==e)return null;for(var t=[],a=0;a<e.length;a++){var n=e[a].name,s=e[a].album,l=e[a].artist,i=e[a].songId;e[a].name.length>30&&(n=e[a].name.substring(0,30)+"..."),e[a].album.length>20&&(s=e[a].album.substring(0,20)+"..."),e[a].artist.length>40&&(l=e[a].artist.substring(0,40)+"..."),t.push(r.a.createElement("p",{key:a,className:"Card-p"},r.a.createElement(E,{buttonClick:this.onCardClick.bind(this,i,n,s,l,e[a].art),name:n,album:s,artist:l,artwork:e[a].art,songId:i})))}return t}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"Search"},r.a.createElement("header",{className:"Search-header"},r.a.createElement("img",{src:g.a,className:"Search-logo",alt:"logo"}),r.a.createElement("p",null,"Search for a song"),r.a.createElement("p",null,"or"),r.a.createElement("p",null,"Enter a Spotify song link"),r.a.createElement("div",{className:"searchbar"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"Search-box",type:"text",value:this.state.value,placeholder:"Search..",onChange:this.handleChange}),r.a.createElement("button",{id:"searchclick",type:"submit"},"Search"))),r.a.createElement("div",{style:{marginTop:"3vh",position:"absolute",top:"40vh"}},this.state.prompt)),this.state.results,r.a.createElement("div",{id:"footer",style:{height:"36.6vh"}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(9),C=(a(151),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"4vh"}},r.a.createElement("img",{src:g.a,className:"Logo",alt:"logo"})),r.a.createElement("div",{className:"Container-home"},r.a.createElement("div",null,r.a.createElement("h1",null,"Explore your song"),r.a.createElement("p",null,"Discover detailed analytics for your music. Go deeper and find out what Spotify's algorithms say about your songs!")),r.a.createElement("div",null,r.a.createElement("h1",null,"Find the right playlist for your song"),r.a.createElement("p",null,"Choose a song and see how well it fits in a given playlist.")),r.a.createElement("div",null,r.a.createElement(y.b,{to:"/song"},r.a.createElement("button",null,"Analyse a song"))),r.a.createElement("div",null,r.a.createElement(y.b,{to:"/playlist"},r.a.createElement("button",null,"Choose a playlist"))))))}}]),a}(r.a.Component)),S=(r.a.Component,r.a.Component,function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),""!==n.state.searchQuery&&(n.setState({previousSearchQuery:n.state.searchQuery}),n.state.searchQuery!=n.state.previousSearchQuery&&n.waitForFetch())},n.waitForFetch=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){n.setState({prompt:"Searching for results..."})}),1e3),e.next=3,v.fetchData(n.state.searchQuery,"playlist");case 3:for(t=e.sent,a=setTimeout((function(){}),0);a--;)window.clearTimeout(a),n.setState({prompt:null});if(n.setState({playlistsRaw:t}),0!==t.playlists.items.length){e.next=10;break}return n.setState({prompt:"No results found!",results:r.a.createElement("div",{className:"Margin"})}),e.abrupt("return");case 10:n.generatePlaylistInfo(),n.setState({results:r.a.createElement("div",{className:"Cards",style:{gridGap:"5vh"}},n.populateGrid(n.state.playlistIds))});case 12:case"end":return e.stop()}}),e)}))),n.state={token:"NO_TOKEN(CLIENT)",playlistsRaw:null,playlistIds:null,searchQuery:"",previousSearchQuery:"",results:r.a.createElement("div",{className:"Margin"}),prompt:null},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.onCardClick=n.onCardClick.bind(Object(m.a)(n)),n}return Object(h.a)(a,[{key:"handleChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"onCardClick",value:function(e,t,a,n,r){console.log("Click successful!! ID: "+e),this.props.history.push({pathname:"/playlists",search:this.props.location.search,hash:e,state:{name:t,album:a,artist:n,art:r}}),console.log(this.props.location.state)}},{key:"generatePlaylistInfo",value:function(){var e=[];this.state.playlistsRaw.playlists.items.forEach((function(t){e.push({playlistId:t.id})})),this.setState({playlistIds:e})}},{key:"populateGrid",value:function(e){if(null==e)return null;for(var t=[],a=0;a<e.length/2;a++){var n=e[a].playlistId;t.push(r.a.createElement("p",{className:"Playlist-p",key:a},r.a.createElement("h2",{onClick:this.onCardClick.bind(this,n,this.props.location.state.name,this.props.location.state.album,this.props.location.state.artist,this.props.location.state.art)},"Select Playlist"),r.a.createElement("p",{className:"Playlist-p"},r.a.createElement("iframe",{src:"https://open.spotify.com/embed/playlist/"+n,width:"350",height:"350",frameBorder:"0",allowTransparency:"true",allow:"encrypted-media"}))))}return t}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"Search"},r.a.createElement("header",{className:"Search-header"},r.a.createElement("div",{className:"Grid"},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("img",{src:g.a,className:"Search-logo",alt:"logo"})),r.a.createElement("p",null,"Search for a playlist"),r.a.createElement("p",null,"or"),r.a.createElement("p",null,"Enter a Spotify playlist link"),r.a.createElement("p",null),r.a.createElement("div",{className:"searchbar"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"Search-box",type:"text",value:this.state.value,placeholder:"Search..",onChange:this.handleChange}),r.a.createElement("button",{id:"searchclick",type:"submit"},"Search")))),r.a.createElement("div",null,r.a.createElement("p",null,"Song being analysed:"),r.a.createElement("p",{className:"Card-p"},r.a.createElement(E,{name:this.props.location.state.name,album:this.props.location.state.album,artist:this.props.location.state.artist,artwork:this.props.location.state.art,songId:this.props.location.state.songId})))),r.a.createElement("div",{style:{marginTop:"3vh",position:"absolute",top:"40vh"}},this.state.prompt)),this.state.results,r.a.createElement("div",{id:"footer",style:{height:"36.6vh"}})))}}]),a}(r.a.Component)),x=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"About ",this.props.search)}}]),a}(r.a.Component),T=a(71),j=function e(){Object(u.a)(this,e)};j.fetchData=function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,r,s,l,i,u,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/authenticate");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,r();case 4:return s=e.sent,l=s.myToken,i={headers:{Authorization:"Bearer "+l}},"https://api.spotify.com/v1/",u="https://api.spotify.com/v1/"+a+t,e.next=13,fetch(u,i);case 13:return h=e.sent,console.log(u),e.next=17,h.json();case 17:return n=e.sent,e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var O=j,D=(a(152),a(37)),N=a(73),F=a(312),I=a(69),A=a(94),M=a.n(A),L=a(66),R=a.n(L),z=a(67),P=(a(284),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"background"},r.a.createElement("svg",{viewBox:"0 0 1920 2140",style:{top:this.props.shiftDown}},r.a.createElement("path",{fill:this.props.fill,d:"M 0.00,1811.00 C 0.00,1811.00 0.00,1214.00 0.00,1214.00 0.00,1214.00 0.99,1206.61 0.99,1206.61 0.99,1206.61 9.00,1201.00 9.00,1201.00 9.00,1201.00 25.00,1191.20 25.00,1191.20 25.00,1191.20 107.00,1141.20 107.00,1141.20 107.00,1141.20 449.00,932.80 449.00,932.80 449.00,932.80 726.00,763.81 726.00,763.81 726.00,763.81 1059.00,560.81 1059.00,560.81 1059.00,560.81 1328.00,396.81 1328.00,396.81 1328.00,396.81 1450.00,322.58 1450.00,322.58 1450.00,322.58 1595.00,234.19 1595.00,234.19 1595.00,234.19 1776.00,123.80 1776.00,123.80 1776.00,123.80 1875.00,63.40 1875.00,63.40 1875.00,63.40 1904.00,45.80 1904.00,45.80 1904.00,45.80 1920.00,37.00 1920.00,37.00 1920.00,37.00 1920.00,633.00 1920.00,633.00 1920.00,633.00 1918.98,640.82 1918.98,640.82 1918.98,640.82 1911.00,647.00 1911.00,647.00 1911.00,647.00 1895.00,656.80 1895.00,656.80 1895.00,656.80 1814.00,706.05 1814.00,706.05 1814.00,706.05 1670.00,793.81 1670.00,793.81 1670.00,793.81 1470.00,915.80 1470.00,915.80 1470.00,915.80 1271.00,1037.19 1271.00,1037.19 1271.00,1037.19 961.00,1226.19 961.00,1226.19 961.00,1226.19 628.00,1429.19 628.00,1429.19 628.00,1429.19 465.00,1528.42 465.00,1528.42 465.00,1528.42 155.00,1717.42 155.00,1717.42 155.00,1717.42 51.00,1780.81 51.00,1780.81 51.00,1780.81 18.00,1801.00 18.00,1801.00 18.00,1801.00 0.00,1811.00 0.00,1811.00 Z"})))}}]),a}(r.a.Component)),B=Object(I.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],lineHeight:"25px",textAlign:"center"},arrow:{color:e.palette.common.white}}}))(F.a),H=function(e,t){var a=parseInt,n=Math.round,r=t.split(","),s=Object(T.a)(r,4),l=s[0],i=s[1],o=(t=s[2],s[3]),c=(u=e<0)?0:255*e,u=u?1+e:1-e;return"rgb"+(o?"a(":"(")+n(a("a"==l[3]?l.slice(5):l.slice(4))*u+c)+","+n(a(i)*u+c)+","+n(a(t)*u+c)+(o?","+o:")")},Q=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.waitForFeatures();case 2:return e.next=4,n.waitForAnalysis();case 4:return e.next=6,n.waitFortrack();case 6:return e.next=8,n.waitForAlbum();case 8:n.generateSongFeatures(),n.setBgColours();case 10:case"end":return e.stop()}}),e)}))),n.waitFortrack=Object(c.a)(o.a.mark((function e(){var t,a,s,l,i,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.location.search,e.next=3,O.fetchData(t.substring(1,t.length),"tracks/");case 3:if(0!==(a=e.sent).length){e.next=7;break}return n.setState({prompt:"Invalid song ID",invalid:!0}),e.abrupt("return");case 7:console.log(a),n.setState({rawTrack:a}),s=a.name,l=a.album.name,i=a.artists[0].name,a.name.length>30&&(s=a.name.substring(0,30)+"..."),a.album.name.length>20&&(l=a.album.name.substring(0,20)+"..."),a.artists[0].name.length>40&&(i=a.artists[0].name.substring(0,40)+"..."),c="Unknown",c=!0===a.explicit?"Yes":"No",u="",a.artists.forEach((function(e){u+=e.name+", "})),u=u.substring(0,u.length-2),n.setState({songCard:r.a.createElement(E,{name:s,album:l,artist:i,artwork:n.state.rawTrack.album.images[1].url}),explicit:c,artists:u});case 21:case"end":return e.stop()}}),e)}))),n.waitForFeatures=Object(c.a)(o.a.mark((function e(){var t,a,r,s,l,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.location.search,e.next=3,O.fetchData(t.substring(1,t.length),"audio-features/");case 3:if(0!==(a=e.sent).length){e.next=7;break}return n.setState({prompt:"Invalid song ID",invalid:!0}),e.abrupt("return");case 7:r="Maybe",a.liveness<.5?r="No":a.liveness>.5&&(r="Yes"),s="Maybe",s=a.acousticness<.3?"No":a.acousticness<.5?"Maybe":"Yes",l="Unknown",l=a.instrumentalness<.5?"No":"Yes",i="Unknown",i=a.speechiness<.33?"Musical":a.speechiness<.66?"Musical and spoken":"Spoken word",c="Unknown",0===a.key?c="C":1===a.key?c="C #":2===a.key?c="D":3===a.key?c="D #":4===a.key?c="E":5===a.key?c="F":6===a.key?c="F #":7===a.key?c="G":8===a.key?c="G #":9===a.key?c="A":10===a.key?c="A #":11===a.key&&(c="B"),console.log(a),n.setState({rawFeatures:a,live:r,acoustic:s,instrumental:l,musicality:i,key:c}),1===a.mode?n.setState({modality:"Major"}):0===a.mode&&n.setState({modality:"Minor"});case 20:case"end":return e.stop()}}),e)}))),n.waitForAnalysis=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==n.state.invalid){e.next=2;break}return e.abrupt("return");case 2:return t=n.props.location.search,e.next=5,O.fetchData(t.substring(1,t.length),"audio-analysis/");case 5:if(0!==(a=e.sent).length){e.next=9;break}return n.setState({prompt:"Invalid song ID",invalid:!0}),e.abrupt("return");case 9:n.setState({rawAnalysis:a});case 10:case"end":return e.stop()}}),e)}))),n.waitForAlbum=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==n.state.invalid){e.next=2;break}return e.abrupt("return");case 2:return n.props.location.search,e.next=5,O.fetchData(n.state.rawTrack.album.id,"albums/");case 5:if(0!==(t=e.sent).length){e.next=9;break}return n.setState({prompt:"Invalid song ID",invalid:!0}),e.abrupt("return");case 9:console.log(t),n.setState({rawAlbum:t});case 11:case"end":return e.stop()}}),e)}))),n.state={rawFeatures:[],rawAnalysis:[],rawTrack:{album:{id:"null"},available_markets:[]},rawAlbum:[],data:[],options:[],prompt:null,invalid:!1,modality:"",songCard:null,bgImage:null,explicit:null,live:null,instrumental:null,musicality:null,key:null,artists:null,albumColours1:"white",albumColours2:"white",albumColours3:"white",albumColours4:"white"},n}return Object(h.a)(a,[{key:"setBgColours",value:function(){var e=document.querySelector("img");e.crossOrigin="Anonymous";var t=new R.a;e.addEventListener("load",function(){var a=this;t.getColor(e);z.from(e).getPalette().then((function(e){console.log(e);var t=e.Vibrant.getRgb(),n=e.DarkVibrant.getRgb(),r=e.DarkMuted.getRgb(),s=e.Muted.getRgb();t=H(.3,"rgb("+t[0]+","+t[1]+","+t[2]+")"),n=H(.3,"rgb("+n[0]+","+n[1]+","+n[2]+")"),r=H(.3,"rgb("+r[0]+","+r[1]+","+r[2]+")"),s=H(.3,"rgb("+s[0]+","+s[1]+","+s[2]+")"),a.setState({albumColours1:t,albumColours2:n,albumColours3:r,albumColours4:s})}))}.bind(this))}},{key:"generateSongFeatures",value:function(){var e={labels:["Danceability","Energy","Happiness"],datasets:[{label:"Song features",backgroundColor:"darkred",borderColor:"rgb(255, 99, 132)",data:[(10*this.state.rawFeatures.danceability).toFixed(2),(10*this.state.rawFeatures.energy).toFixed(2),(10*this.state.rawFeatures.valence).toFixed(2)]}]};this.setState({data:e,options:{tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){return t.datasets[0].data[e.index]}},backgroundColor:"#FFF",titleFontSize:16,titleFontColor:"#0066ff",bodyFontColor:"#000",bodyFontSize:14,displayColors:!1},legend:{display:!1,labels:{fontColor:"white"}},scales:{yAxes:[{ticks:{display:!0,fontColor:"white"},gridLines:{display:!1,drawBorder:!1}}],xAxes:[{barPercentage:.5,ticks:{fontColor:"white",fontSize:14,min:0,max:10,stepSize:1},gridLines:{display:!1,drawBorder:!1}}]}}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Main",style:{backgroundColor:this.state.albumColours1}},r.a.createElement("div",{style:{width:"1vw",marginLeft:"-1vw"}},r.a.createElement(P,{fill:this.state.albumColours2}),r.a.createElement(P,{fill:this.state.albumColours3,shiftDown:"-100vh"}),r.a.createElement(P,{fill:this.state.albumColours4,shiftDown:"100vh"}),r.a.createElement(P,{fill:this.state.albumColours2,shiftDown:"200vh"})),r.a.createElement("div",{className:"Header"},r.a.createElement("p",null,"Song Analysis"),r.a.createElement("p",{id:"Song-card"},this.state.songCard)),r.a.createElement("div",{className:"Container"},r.a.createElement("div",{style:{display:"flex",fontSize:"2.5vh",padding:"1vh",textAlign:"left",paddingLeft:"3vh",alignContent:"left"}},r.a.createElement(M.a,{style:{paddingRight:"0.3vw"}})," Hover over an item for more information."),r.a.createElement("div",null,r.a.createElement("h2",null,"Song Mood Features:",r.a.createElement("button",{style:{display:"flex",marginLeft:"2vw"}},"What's this?")),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement(D.b,{className:"Chart",data:this.state.data,options:this.state.options}))),r.a.createElement("div",null,r.a.createElement("h2",{style:{marginBottom:"0vh"}},"Musical information:"),r.a.createElement("p",{style:{fontSize:"1.9vh",marginLeft:"2vh"}}),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Tempo of the song in beats per minute.")},r.a.createElement("p",null,"Tempo: ",Math.round(this.state.rawFeatures.tempo)," bpm")),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Time signature of the song.")},r.a.createElement("p",null,"Time signature: ",this.state.rawFeatures.time_signature,"/4")),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Musical key of the song.")},r.a.createElement("p",null,"Key: ",this.state.key)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Modality of the song (Major or Minor).")},r.a.createElement("p",null,"Modality: ",this.state.modality)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Whether the song is acoustic or not. Spotify gives songs an 'Acousticness' rating on a scale of 0.0 - 1.0. The closer to 1.0 this value is, the higher the probability that the track is acoustic. The Acousticness rating for this track is ",this.state.rawFeatures.acousticness,".")},r.a.createElement("p",null,"Acoustic: ",this.state.acoustic)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Whether the song is instrumental, or contains vocals. 'Instrumentalness' is given on a scale of 0.0 - 1.0. The closer to 1.0 this value is, the higher the probability that the track is purely instrumental. The 'Instrumentalness' rating for this song is ",this.state.rawFeatures.liveness,".")},r.a.createElement("p",null,"Instrumental: ",this.state.instrumental)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},'The musicality of a song is a measure of whether it contains music or people talking. \'Speechiness\' is given on a scale of 0.0 - 0.1, and songs with high Speechiness are less musical and contain more spoken words. For example, a podcast would have a \'Speechiness\' value greater than 0.66, and a normal song containing singing would have a value below 0.33. Rap and poetry fall somewhere in the middle. The possibilities for Musicality are "Musical", "Musical and spoken", or "Spoken word". This track has a Speechiness value of ',this.state.rawFeatures.speechiness,".")},r.a.createElement("p",null,"Musicality: ",this.state.musicality)),r.a.createElement("hr",null)),r.a.createElement("div",null,r.a.createElement("h2",null,"Song details:"),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"The name of the song.")},r.a.createElement("p",null,"Name: ",this.state.rawTrack.name)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"All artists who created and collaborated on the song.")},r.a.createElement("p",null,"Artists: ",this.state.artists)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Whether the lyrics contain explicit content or not..")},r.a.createElement("p",null,"Explicit lyrics: ",this.state.explicit)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"How popular the song is. This is a number between 0 and 100, with 100 being the most popular. Popularity is based on the total number of recent plays, meaning songs which were popular in the past might now have a low popularity rating. The popularity is relative, with the most popular song on Spotify having a popularity of 100, so songs with popularity ratings that seem quite low may actually be relatively popular.")},r.a.createElement("p",null,"Popularity: ",this.state.rawTrack.popularity)),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Length of the song.")},r.a.createElement("p",null,"Length: ",(this.state.rawFeatures.duration_ms/1e3/60).toFixed(2)," minutes")),r.a.createElement("hr",null),r.a.createElement(B,{arrow:"true",enterTouchDelay:"100",title:r.a.createElement("p",{className:"Tooltip"},"Whether the song is live or not. This is determined by the amount of 'audience noise' detected in the recording, on a scale of 0.0 - 1.0. The 'Liveness' rating for this track is ",this.state.rawFeatures.liveness,".")},r.a.createElement("p",null,"Live: ",this.state.live)),r.a.createElement("hr",null)),r.a.createElement("div",{style:{paddingBottom:"0vh",marginBottom:"0vh"}},r.a.createElement("h2",null,"Album preview:"),r.a.createElement("hr",null),r.a.createElement("iframe",{src:"https://open.spotify.com/embed/album/"+this.state.rawTrack.album.id,width:"350",height:"350",frameBorder:"0",allowTransparency:"true",allow:"encrypted-media"})),r.a.createElement("div",null,r.a.createElement("h2",null,"Album details:"),r.a.createElement("hr",null),r.a.createElement("p",null,"Name: ",this.state.rawAlbum.name),r.a.createElement("hr",null),r.a.createElement("p",null,"Release date: ",this.state.rawAlbum.release_date),r.a.createElement("hr",null),r.a.createElement("p",null,"Popularity: ",this.state.rawAlbum.popularity),r.a.createElement("hr",null),r.a.createElement("p",null,"Type: ",this.state.rawAlbum.album_type),r.a.createElement("hr",null),r.a.createElement("p",null,"Record label: ",this.state.rawAlbum.label),r.a.createElement("hr",null)),r.a.createElement("div",null,r.a.createElement("h2",null,"Available regions:"),r.a.createElement("hr",null),r.a.createElement("p",{style:{justifyContent:"center",display:"flex"}},r.a.createElement(N.ComposableMap,{style:{color:"white",height:"42vh",marginRight:"2vw"}},r.a.createElement(N.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(t){return t.geographies.map((function(t){var a=e.state.rawTrack.available_markets.find((function(e){return e===t.properties.ISO_A2}));return r.a.createElement(N.Geography,{key:t.rsmKey,geography:t,fill:a?"darkred":"white"})}))}))))),r.a.createElement("div",null,r.a.createElement("h2",null,"Mood features explained:"),r.a.createElement("hr",null),r.a.createElement("p",null,"All mood feature data is taken from Spotify, who use algorithms to calculate the numbers shown."),r.a.createElement("h2",null,"Energy"),r.a.createElement("p",null,"The 'Energy' of a song determines how energetic the song feels, and is a measure of intensity and musical activity, with energetic tracks feeling fast, busy and noisy. Energy is calculated by taking into account the dynamic range, the loudness, the timbre, and the onset rate (rate of notes played). Energy is determined on a scale of 0 - 10, with 10 being the most energetic."),r.a.createElement("h2",null,"Danceability"),r.a.createElement("p",null,"The 'Danceability' of a song describes how good a track is to dance to. This takes into account a number of musical elements including tempo, how stable the rhythm is, the strength of each beat, and how regular the musical pattern is. Dancibility is determined on a scale of 0 - 10, with 10 being the most danceable."),r.a.createElement("h2",null,"Happiness"),r.a.createElement("p",null,"The happiness or 'Valence' of a song is how positive it sounds. Tracks with high valence sound more positive (happy, cheerful, euphoric) while tracks with low valence sound more negative (sad, depressed, angry). Happiness is determined on a scale of 0 - 10, with 10 being the most positive sounding."))))}}]),a}(r.a.Component),_=(a(286),a(133)),G=a.n(_),V=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={data:{},options:{}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.generateChart()}},{key:"generateChart",value:function(){var e={labels:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10],datasets:[{label:"Song features",backgroundColor:["darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred","darkred"],borderColor:"rgb(255, 99, 132)",barPercentage:1,categoryPercentage:1,data:this.props.data}]};e.datasets[0].backgroundColor[this.props.songIndex]="darkgreen";this.setState({data:e,options:{tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){return t.datasets[0].data[e.index]}},backgroundColor:"#FFF",titleFontSize:16,titleFontColor:"#0066ff",bodyFontColor:"#000",bodyFontSize:14,displayColors:!1},legend:{display:!1,labels:{fontColor:"white"}},scales:{yAxes:[{ticks:{display:!0,fontColor:"white"},gridLines:{display:!1,drawBorder:!1}}],xAxes:[{display:!1,ticks:{max:20}},{display:!0,ticks:{fontColor:"white",fontSize:14,autoSkip:!1,max:10,stepSize:1}}]}}})}},{key:"render",value:function(){return r.a.createElement(D.a,{className:"Chart",data:this.state.data,options:this.state.options})}}]),a}(r.a.Component),q=function(e,t){var a=parseInt,n=Math.round,r=t.split(","),s=Object(T.a)(r,4),l=s[0],i=s[1],o=(t=s[2],s[3]),c=(u=e<0)?0:255*e,u=u?1+e:1-e;return"rgb"+(o?"a(":"(")+n(a("a"==l[3]?l.slice(5):l.slice(4))*u+c)+","+n(a(i)*u+c)+","+n(a(t)*u+c)+(o?","+o:")")},W=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).waitFortracks=Object(c.a)(o.a.mark((function t(){var a,n,r,s,l,i,c,u,h,p,d,f,g,y,b;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.location.search,a=e.props.location.hash,t.next=4,O.fetchData("","playlists/"+a.substring(1,e.props.location.hash.length)+"/tracks");case 4:return n=t.sent,r="",s=0,console.log(n),n.items.forEach((function(e){100!==++s&&(r+=e.track.id+",")})),r=r.substring(0,r.length-1),t.next=12,O.fetchData(e.props.location.search.substring(1,e.props.location.search.length)+","+r,"audio-features/?ids=");case 12:if(0!==(l=t.sent).length){t.next=16;break}return e.setState({prompt:"Invalid ID",invalid:!0}),t.abrupt("return");case 16:return(i=document.querySelector("img")).crossOrigin="Anonymous",c=new R.a,i.addEventListener("load",function(){var e=this;c.getColor(i);z.from(i).getPalette().then((function(t){console.log(t);var a=t.Vibrant.getRgb(),n=t.DarkVibrant.getRgb(),r=t.DarkMuted.getRgb(),s=t.Muted.getRgb();a=q(.3,"rgb("+a[0]+","+a[1]+","+a[2]+")"),n=q(.3,"rgb("+n[0]+","+n[1]+","+n[2]+")"),r=q(.3,"rgb("+r[0]+","+r[1]+","+r[2]+")"),s=q(.3,"rgb("+s[0]+","+s[1]+","+s[2]+")"),e.setState({albumColours1:a,albumColours2:n,albumColours3:r,albumColours4:s})}))}.bind(Object(m.a)(e))),t.next=22,e.simplifyData(l);case 22:for(u=t.sent,h=[],p=[],d=[],f=[],g=0;g<3;g++)y="",y=0===g?"Danceability":1===g?"Energy":"Positivity",1===u.sigmas[g]&&u.stDevs[g]<=.15?(h[g]=4,p[g]="Perfect fit!",d[g]="The ".concat(y," of your chosen song fits the chosen playlist perfectly! The playlist songs\n                all have very a similiar ").concat(y,", and your chosen song sits right in the middle of the distribution."),f[g]="#1E9600"):1===u.sigmas[g]&&u.stDevs[g]>.15?(h[g]=3,p[g]="Great fit!",d[g]="The ".concat(y," of your chosen song fits the chosen playlist very well. The playlist songs\n                don't follow a close pattern for ").concat(y,", and the values vary a lot. This means ").concat(y," isn't so important\n                for this playlist, but your song still fits well!"),f[g]="#77b300"):(2===u.sigmas[g]||3===u.sigmas[g])&&u.stDevs[g]>.15?(h[g]=2,p[g]="Average fit",d[g]="The ".concat(y," of your chosen song isn't a great fit. The playlist songs don't\n                follow a close pattern for ").concat(y," however, so ").concat(y," isn't that important for this playlist. There is a lot of\n                variation, so your song could potentially still fit here!"),f[g]="#ffcc00"):2===u.sigmas[g]&&u.stDevs[g]<=.15?(h[g]=1,p[g]="Poor fit",d[g]="The ".concat(y," of your chosen song doesn't fit the chosen playlist well. The ").concat(y," of the songs on this\n                playlist follow a very tight pattern, and your song's ").concat(y," doesn't follow this pattern. This is a sign\n                that your song may not be right for this playlist."),f[g]="#cc2900"):(h[g]=0,p[g]="Terrible fit",d[g]="The ".concat(y," of your chosen song does not fit the playlist well. It falls very far outside\n                the distribution. This is a sign that your song probably isn't right for this playlist."),f[g]="#e60000");console.log("Score: ",h),b=[h.reduce((function(e,t){return e+t}),0)],e.setState({score:b,featureInfo1:p,featureInfo2:d,featureInfoColour:f,fit:u}),e.generateScoreChart(b),console.log(b);case 33:case"end":return t.stop()}}),t)}))),e.simplifyData=function(){var t=Object(c.a)(o.a.mark((function t(a){var n,s,l,i,c,u,h,m,p,d,f,g,y,b,v,E;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[],c=[],u=[],h=0,m=0,p=0,d=0,a.audio_features.forEach((function(e){e.danceability<.05?n[0]++:.05<e.danceability<.1?n[1]++:.1<e.danceability<.15?n[2]++:.15<e.danceability<.2?n[3]++:.2<e.danceability<.25?n[4]++:.25<e.danceability<.3?n[5]++:.3<e.danceability<.35?n[6]++:.35<e.danceability<.4?n[7]++:.4<e.danceability<.45?n[8]++:.45<e.danceability<.55?n[9]++:.5<e.danceability<.55?n[10]++:.55<e.danceability<.6?n[11]++:.6<e.danceability<.65?n[12]++:.65<e.danceability<.7?n[13]++:.7<e.danceability<.75?n[14]++:.75<e.danceability<.8?n[15]++:.8<e.danceability<.85?n[16]++:.85<e.danceability<.9?n[17]++:.9<e.danceability<.95?n[18]++:.95<e.danceability<1&&n[19]++,e.energy<.05?s[0]++:.05<e.energy<.1?s[1]++:.1<e.energy<.15?s[2]++:.15<e.energy<.2?s[3]++:.2<e.energy<.25?s[4]++:.25<e.energy<.3?s[5]++:.3<e.energy<.35?s[6]++:.35<e.energy<.4?s[7]++:.4<e.energy<.45?s[8]++:.45<e.energy<.55?s[9]++:.5<e.energy<.55?s[10]++:.55<e.energy<.6?s[11]++:.6<e.energy<.65?s[12]++:.65<e.energy<.7?s[13]++:.7<e.energy<.75?s[14]++:.75<e.energy<.8?s[15]++:.8<e.energy<.85?s[16]++:.85<e.energy<.9?s[17]++:.9<e.energy<.95?s[18]++:.95<e.energy<1&&s[19]++,e.valence<.05?l[0]++:.05<e.valence<.1?l[1]++:.1<e.valence<.15?l[2]++:.15<e.valence<.2?l[3]++:.2<e.valence<.25?l[4]++:.25<e.valence<.3?l[5]++:.3<e.valence<.35?l[6]++:.35<e.valence<.4?l[7]++:.4<e.valence<.45?l[8]++:.45<e.valence<.55?l[9]++:.5<e.valence<.55?l[10]++:.55<e.valence<.6?l[11]++:.6<e.valence<.65?l[12]++:.65<e.valence<.7?l[13]++:.7<e.valence<.75?l[14]++:.75<e.valence<.8?l[15]++:.8<e.valence<.85?l[16]++:.85<e.valence<.9?l[17]++:.9<e.valence<.95?l[18]++:.95<e.valence<1&&l[19]++,0===d&&(h=n.findIndex((function(e){return e>=.01})),m=s.findIndex((function(e){return e>=.01})),p=l.findIndex((function(e){return e>=.01}))),i.push(e.danceability),c.push(e.energy),u.push(e.valence),d++})),d<20&&e.setState({errorVis:"visible"}),f=[a.audio_features[0].danceability,a.audio_features[0].energy,a.audio_features[0].valence],g=[i.reduce((function(e,t){return e+t}))/d,c.reduce((function(e,t){return e+t}))/d,u.reduce((function(e,t){return e+t}))/d],y=[Math.sqrt(i.map((function(e){return Math.pow(e-g[0],2)})).reduce((function(e,t){return e+t}))/d),Math.sqrt(c.map((function(e){return Math.pow(e-g[1],2)})).reduce((function(e,t){return e+t}))/d),Math.sqrt(u.map((function(e){return Math.pow(e-g[2],2)})).reduce((function(e,t){return e+t}))/d)],b=[],v=0;v<3;v++)y[v]>.15&&console.log("There is a high variance in the data."),console.log("Standard deviation: "+y[v]),b[v]=g[v]-y[v]<=f[v]&&f[v]<=g[v]+y[v]?1:g[v]-2*y[v]<=f[v]&&f[v]<=g[v]+2*y[v]?2:3;return E={stDevs:y,sigmas:b},e.setState({danceHist:r.a.createElement(V,{data:n,songIndex:h}),energyHist:r.a.createElement(V,{data:s,songIndex:m}),valenceHist:r.a.createElement(V,{data:l,songIndex:p})}),console.log(E),t.abrupt("return",E);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={danceHist:null,energyHist:null,valenceHist:null,score:[],chartData:[],chartOptions:[],featureInfo1:[],featureInfo2:[],featureInfoColour:[],errorVis:"hidden",fit:{stDevs:[0,0,0],sigmas:[0,0,0]},albumColours1:"white",albumColours2:"white",albumColours3:"white",albumColours4:"white"},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.waitFortracks()}},{key:"generateScoreChart",value:function(e){var t={labels:["Score"],datasets:[{label:"Song Score",backgroundColor:"darkred",borderColor:"rgb(255, 99, 132)",data:e}]};t.datasets[0].backgroundColor=e>10?"#1E9600":e>8?"#77b300":e>6?"#bfff00":e>5?"#ffcc00":e>3?"#ff751a":e>2?"#cc2900":"#e60000";this.setState({chartData:t,chartOptions:{tooltips:{callbacks:{title:function(e,t){return t.labels[e[0].index]},label:function(e,t){return t.datasets[0].data[e.index]}},backgroundColor:"#FFF",titleFontSize:16,titleFontColor:"#0066ff",bodyFontColor:"#000",bodyFontSize:14,displayColors:!1},legend:{display:!1,labels:{fontColor:"white"}},scales:{yAxes:[{ticks:{display:!1,fontColor:"white"},gridLines:{display:!1,drawBorder:!1}}],xAxes:[{display:!1,barPercentage:.5,ticks:{display:!1,fontColor:"black",fontSize:14,min:0,max:12,stepSize:1},gridLines:{display:!1,drawBorder:!1}}]}}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Main-play",style:{backgroundColor:this.state.albumColours1}},r.a.createElement("div",{style:{width:"1vw",marginLeft:"-1vw"}},r.a.createElement(P,{fill:this.state.albumColours2}),r.a.createElement(P,{fill:this.state.albumColours3,shiftDown:"-100vh"}),r.a.createElement(P,{fill:this.state.albumColours4,shiftDown:"100vh"}),r.a.createElement(P,{fill:this.state.albumColours2,shiftDown:"200vh"})),r.a.createElement("div",null,r.a.createElement("div",{className:"Container-play"},r.a.createElement("div",{style:{display:"flex",margin:"0vh",fontSize:"2.5vh",padding:"0vh",textAlign:"left",paddingLeft:"3vh",alignContent:"left",color:"red",visibility:this.state.errorVis}},r.a.createElement(G.a,{style:{paddingRight:"0.3vw"}}),"This playlist has less than 20 songs. Choose a playlist with more songs for a more accurate analysis."),r.a.createElement("div",null,r.a.createElement("h2",null,this.props.location.state.name),r.a.createElement("h2",null,this.props.location.state.artist),r.a.createElement("p",null),r.a.createElement("p",{style:{backgroundColor:"white",padding:"0vh",paddingLeft:"0.25vw",margin:"1vw"}},r.a.createElement(D.b,{data:this.state.chartData,options:this.state.chartOptions,height:"60vh"})),r.a.createElement("p",null,r.a.createElement("p",{style:{fontSize:"6vh"}},Math.round(this.state.score/12*100),"% Fit!"))),r.a.createElement("div",{style:{margin:"0hv",padding:"0vh",justifyContent:"center",display:"flex"}},r.a.createElement("p",null,r.a.createElement("img",{src:this.props.location.state.art,style:{margin:"2vh",height:"auto",width:"45vh",border:"0.3vh solid dimgrey"}}))),r.a.createElement("div",{className:"Chart-play"},r.a.createElement("p",null,this.state.danceHist)),r.a.createElement("div",null,r.a.createElement("h2",null,"Danceability:",r.a.createElement("h2",{style:{color:this.state.featureInfoColour[0]}},this.state.featureInfo1[0])),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.featureInfo2[0])),r.a.createElement("div",null,r.a.createElement("p",null,this.state.energyHist)),r.a.createElement("div",null,r.a.createElement("h2",null,"Energy:",r.a.createElement("h2",{style:{color:this.state.featureInfoColour[1]}},this.state.featureInfo1[1])),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.featureInfo2[1])),r.a.createElement("div",null,r.a.createElement("p",null,this.state.valenceHist)),r.a.createElement("div",null,r.a.createElement("h2",null,"Positivity:",r.a.createElement("h2",{style:{color:this.state.featureInfoColour[2]}},this.state.featureInfo1[2])),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.featureInfo2[2])),r.a.createElement("div",{id:"Detail"},r.a.createElement("h2",null,"Mood features explained:"),r.a.createElement("hr",null),r.a.createElement("p",null,"All mood feature data is taken from Spotify, who use algorithms to calculate the numbers shown."),r.a.createElement("h2",null,"Energy"),r.a.createElement("p",null,"The 'Energy' of a song determines how energetic the song feels, and is a measure of intensity and musical activity, with energetic tracks feeling fast, busy and noisy. Energy is calculated by taking into account the dynamic range, the loudness, the timbre, and the onset rate (rate of notes played). Energy is determined on a scale of 0 - 10, with 10 being the most energetic."),r.a.createElement("p",null,"The standard deviation of Energy values for the songs in this playlist is ",this.state.fit.stDevs[1].toFixed(3),". The Energy of your song falls within ",this.state.fit.sigmas[1]," \u03c3 (sigma) of the distribution."),r.a.createElement("h2",null,"Danceability"),r.a.createElement("p",null,"The 'Danceability' of a song describes how good a track is to dance to. This takes into account a number of musical elements including tempo, how stable the rhythm is, the strength of each beat, and how regular the musical pattern is. Dancibility is determined on a scale of 0 - 10, with 10 being the most danceable."),r.a.createElement("p",null,"The standard deviation of Danceability values for the songs in this playlist is ",this.state.fit.stDevs[0].toFixed(3),". The danceability of your song falls within ",this.state.fit.sigmas[0]," \u03c3 (sigma) of the distribution."),r.a.createElement("h2",null,"Happiness"),r.a.createElement("p",null,"The happiness or 'Valence' of a song is how positive it sounds. Tracks with high valence sound more positive (happy, cheerful, euphoric) while tracks with low valence sound more negative (sad, depressed, angry). Happiness is determined on a scale of 0 - 10, with 10 being the most positive sounding."),r.a.createElement("p",null,"The standard deviation of Positivity values for the songs in this playlist is ",this.state.fit.stDevs[2].toFixed(3),". The Positivity of your song falls within ",this.state.fit.sigmas[2]," \u03c3 (sigma) of the distribution.")))))}}]),a}(r.a.Component),K=(a(287),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.call(this)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement("nav",{className:"Navbar"},r.a.createElement("ul",null,r.a.createElement("li",{style:{float:"left",fontSize:"3vh"}},r.a.createElement("a",{href:"#home"},"SongMap")),r.a.createElement("li",null,r.a.createElement("a",{href:"#news"},"News")),r.a.createElement("li",null,r.a.createElement("a",{href:"#contact"},"Contact")),r.a.createElement("li",null,r.a.createElement("a",{href:"#about"},"About")))),r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/",exact:!0,component:C}),r.a.createElement(k.a,{path:"/songs",component:Q}),r.a.createElement(k.a,{path:"/playlists",component:W}),r.a.createElement(k.a,{path:"/song-playlist",component:S}),r.a.createElement(k.a,{path:"/about",component:x}),r.a.createElement(k.a,{path:"/bgtest",component:P}),r.a.createElement(k.a,{path:"/song",render:function(e){return r.a.createElement(w,Object.assign({},e,{chain:"song"}))}}),r.a.createElement(k.a,{path:"/playlist",render:function(e){return r.a.createElement(w,Object.assign({},e,{chain:"playlist"}))}})))}}]),a}(r.a.Component));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,a){e.exports=a.p+"static/media/hellify.aede5c89.png"},99:function(e,t,a){}},[[139,1,2]]]);
//# sourceMappingURL=main.e731199b.chunk.js.map